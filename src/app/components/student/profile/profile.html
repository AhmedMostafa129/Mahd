<div class="profile-page">
  <header class="page-header">
    <h1>My Profile</h1>
    <p class="subtitle">Manage your personal information and password.</p>
  </header>

  <!-- Loading & Error -->
  <div *ngIf="loading()" class="state state-loading">
    <p>Loading profile...</p>
  </div>

  <div *ngIf="error() && !loading()" class="state state-error">
    <p>{{ error() }}</p>
  </div>

  <div *ngIf="!loading() && !error() && profile() as p" class="profile-layout">
    <section class="card">
      <h2>Personal Information</h2>

      <div class="form-grid">
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" [(ngModel)]="p.fullName" />
        </div>

        <div class="form-group">
          <label>Email</label>
          <input type="email" [(ngModel)]="p.email" disabled />
        </div>
      </div>

      <button
        type="button"
        class="btn-primary"
        (click)="saveProfile()"
        [disabled]="saving()"
      >
        {{ saving() ? 'Saving...' : 'Save Changes' }}
      </button>
    </section>

    <section class="card">
      <h2>Change Password</h2>

      <div class="form-grid">
        <div class="form-group">
          <label>Current Password</label>
          <input
            type="password"
            [(ngModel)]="changePasswordModel.currentPassword"
          />
        </div>

        <div class="form-group">
          <label>New Password</label>
          <input
            type="password"
            [(ngModel)]="changePasswordModel.newPassword"
          />
        </div>

        <div class="form-group">
          <label>Confirm New Password</label>
          <input
            type="password"
            [(ngModel)]="changePasswordModel.confirmPassword"
          />
        </div>
      </div>

      <button
        type="button"
        class="btn-secondary"
        (click)="submitChangePassword()"
        [disabled]="changingPassword()"
      >
        {{ changingPassword() ? 'Updating...' : 'Update Password' }}
      </button>
    </section>
  </div>
</div>


