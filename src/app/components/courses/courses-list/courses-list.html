<div class="courses-list-page">
  <header class="page-header">
    <h1>Browse Courses</h1>
    <p>Discover amazing courses to enhance your skills</p>
  </header>

  <!-- Search Bar -->
  <section class="search-section">
    <div class="search-box">
      <input
        type="text"
        [(ngModel)]="searchTerm"
        (keyup.enter)="onSearch()"
        placeholder="Search courses..."
        class="search-input"
      />
      <button (click)="onSearch()" class="search-button">ğŸ” Search</button>
    </div>
  </section>

  <!-- Loading State -->
  <div *ngIf="loading()" class="loading-state">
    <p>Loading courses...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error() && !loading()" class="error-state">
    <p>{{ error() }}</p>
    <button (click)="loadCourses()">Retry</button>
  </div>

  <!-- Courses Grid -->
  <div *ngIf="!loading() && !error()">
    <div *ngIf="courses().length === 0" class="empty-state">
      <div class="empty-icon">ğŸ“š</div>
      <h3>No courses found</h3>
      <p *ngIf="searchQuery()">Try adjusting your search terms</p>
      <p *ngIf="!searchQuery()">No courses available at the moment</p>
    </div>

    <div *ngIf="courses().length > 0" class="courses-grid">
      <div *ngFor="let course of courses()" class="course-card" (click)="navigateToCourse(course.courseId)">
        <div class="course-thumbnail" *ngIf="course.thumbnailUrl">
          <img [src]="course.thumbnailUrl" [alt]="course.title" title="{{ course.title }}" />
        </div>
        <div class="course-content">
          <h3 class="course-title">{{ course.title }}</h3>
          <p class="course-description">{{ course.description | slice:0:100 }}{{ course.description.length > 100 ? '...' : '' }}</p>
          
          <div class="course-meta">
            <span class="instructor">ğŸ‘¤ <a href="#" (click)="$event.preventDefault(); navigateToProfile(course.instructorId, $event)">{{ course.instructorName || 'Unknown Instructor' }}</a></span>
            <span class="rating">â­ {{ course.averageRating | number:'1.1-1' }}</span>
          </div>

          <div class="course-stats">
            <span>ğŸ“– {{ course.lessonsCount }} Lessons</span>
            <span>ğŸ‘¥ {{ course.enrollmentCount }} Students</span>
          </div>

          <div class="course-footer">
            <span class="course-price">{{ formatPrice(course.price) }}</span>
            <span *ngIf="course.popular" class="popular-badge">ğŸ”¥ Popular</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Pagination -->
    <div *ngIf="totalPages() > 1" class="pagination">
      <button
        (click)="onPageChange(pageNumber() - 1)"
        [disabled]="pageNumber() === 1"
        class="pagination-button"
      >
        â† Previous
      </button>
      
      <span class="pagination-info">
        Page {{ pageNumber() }} of {{ totalPages() }} ({{ totalCount() }} courses)
      </span>
      
      <button
        (click)="onPageChange(pageNumber() + 1)"
        [disabled]="pageNumber() === totalPages()"
        class="pagination-button"
      >
        Next â†’
      </button>
    </div>
  </div>
</div>
